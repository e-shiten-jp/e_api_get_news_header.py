# e_api_get_news_header_tel.py
ｅ支店APIでニュースヘッダーを取得する。

ご注意！！ ================================

	本番環境に接続した場合、実際に注文が出ます。
	市場で条件が一致して約定した場合、取り消せません。
	十分にご注意いただき、ご利用ください。

===========================================



１）動作テストを実行した環境

	APIバージョン： v4r7
	python:3.11.2 / os:debian12

２）事前に立花証券ｅ支店に口座開設が必要です。
  
３）利用時に変数を設定してください。

	# 必要な設定項目
	# 取得したいカテゴリコード: my_p_CG     未指定時は全て対象。100:QUICKニュース、110:ＡＩ市況状況速報、120:AI開示速報（決算関連）、129:ＡＩ開示速報（その他）
	# 取得したい銘柄コード: my_p_IS       未指定時は全て対象。
	# ニュース日付（YYYYMMDD）範囲指定（from）: my_p_DT_FROM
	# ニュース日付（YYYYMMDD）範囲指定（to）: my_p_DT_TO      p_DT_FROM <= p_DT_TOで設定する。
	# レコード取得位置: my_p_REC_OFST   デフォルト＝０、直近先頭の意味。
	# レコード取得件数最大: my_p_REC_LIMT     デフォルト＝100。1回に取得できる最大件数は100。
	# 出力ファイル名: my_fname_output  （デフォルトは、'news_header_[銘柄コード].csv'）

４)実行は、設定ファイルや「e_api_login_tel.py」と同じディレクトリで実行してください。

	事前に
 	「電話認証＋e_api_login_tel.py実行」
  	で、仮想URL（１日券）を取得しておいてください。

５）実行内容は、以下になります。

	5-1）ニュースヘッダーを取得します。

	5-2）取得したニュースヘッダーをファイルに出力します。

	上記に付随して、送信データや受信データを適宜print()文で出力します。


６）取得した文字列に日本語が入った場合、文字コードはshift-jisです。

７）利用時間外に接続した場合、"p_errno":"9"（システム、サービス停止中。）が返されます。

	詳しくは「立花証券・ｅ支店・ＡＰＩ、EVENT I/F 利用方法、データ仕様」4ページをご参照ください。
  
	なおデモ環境のご利用時間はデモ環境の案内ページでください。
  
８）本サンプルプログラムは、元事務方の者が休日や空き時間に作成したため、色々足りておりません。ご容赦ください。

９）本プログラムは自由にご使用ください。

１０）このソフトウェアを使用したことによって生じたすべての障害・損害・不具合等に関して、私と私の関係者および私の所属するいかなる団体・組織とも、一切の責任を負いません。各自の責任においてご使用ください。
